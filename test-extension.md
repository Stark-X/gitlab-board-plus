# 扩展测试指南

## 🔧 修复内容

已修复 Service Worker 注册失败的问题：
- 移除了 `importScripts()` 调用
- 将配置管理器直接整合到 `background.js` 中
- 确保与 Manifest V3 ES 模块兼容

## 🧪 测试步骤

### 1. 重新加载扩展
1. 打开 `chrome://extensions/`
2. 找到 "GitLab Board Plus" 扩展
3. 点击刷新按钮 🔄
4. 确认没有错误信息

### 2. 检查 Service Worker 状态
1. 在扩展详情页面，点击 "service worker"
2. 应该看到 Service Worker 正常运行
3. 控制台应该显示：`GitLab Board Plus 插件已安装`

### 3. 测试弹窗功能
1. 点击扩展图标
2. 弹窗应该正常打开
3. 可以看到设置按钮和其他界面元素

### 4. 测试配置功能
1. 在弹窗中点击设置按钮
2. 输入你的 GitLab URL 和 Access Token
3. 点击"测试连接"
4. 应该会弹出权限请求对话框

### 5. 验证权限请求
1. 在权限对话框中点击"允许"
2. 应该看到连接成功的消息
3. 保存设置后会自动注入脚本

## 🐛 故障排除

### 如果仍然有错误：
1. **完全卸载扩展**：
   - 在 `chrome://extensions/` 点击"移除"
   - 重新加载扩展

2. **检查文件路径**：
   - 确保所有文件路径正确
   - 确保 `src/background.js` 存在

3. **查看详细错误**：
   - 点击扩展的"错误"链接
   - 查看具体的错误信息

### 常见问题：
- **权限被拒绝**：重新尝试配置，确保点击"允许"
- **API 调用失败**：检查 GitLab URL 和 Token 是否正确
- **脚本未注入**：刷新 GitLab 页面，或手动点击注入按钮

## ✅ 成功标志

如果一切正常，你应该看到：
1. ✅ Service Worker 正常运行
2. ✅ 弹窗界面正常显示
3. ✅ 权限请求功能正常
4. ✅ GitLab 页面上出现增强功能

## 📝 下一步

配置成功后，你可以：
1. 在 GitLab Board 页面测试过滤功能
2. 尝试批量操作功能
3. 查看统计信息显示
4. 验证拖拽增强效果 